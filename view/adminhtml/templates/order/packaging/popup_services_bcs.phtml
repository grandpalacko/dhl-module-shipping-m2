<?php
/**
 * Dhl Shipping
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Open Software License (OSL 3.0)
 * that is bundled with this package in the file LICENSE.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/osl-3.0.php
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade this extension to
 * newer versions in the future.
 *
 * @category  Dhl
 * @package   Dhl\Shipping
 * @author    Sebastian Ertner <sebastian.ertner@netresearch.de>
 * @copyright 2017 Netresearch GmbH & Co. KG
 * @license   http://opensource.org/licenses/osl-3.0.php Open Software License (OSL 3.0)
 * @link      http://www.netresearch.de/
 */
/** @var Dhl\Shipping\Block\Adminhtml\Order\Shipment\Services $block */ ?>
<?php $services = $block->getServiceCollection(); ?>
<?php if (!empty($services)) : ?>
    <dl>
        <?php if ($services->offsetExists(\Dhl\Shipping\Service\BulkyGoods::CODE)) : ?>
            <?php
                /** @var \Dhl\Shipping\Service\ServiceInterface $service */
                $service = $services->offsetGet(\Dhl\Shipping\Service\BulkyGoods::CODE);
                $code = $service->getCode();
                $name = __('Bulky Goods');
            ?>
            <dt class="service-<?php /* @noEscape */ echo $code; ?>">

                <label class="checkbox-label">
                    <input
                        data-module="dhl_shipping"
                        data-name="service_<?php /* @noEscape */ echo $code ?>"
                        type="checkbox"
                        name="shipment_service[<?php /* @noEscape */ echo $code ?>]"
                        value="<?php /* @noEscape */ echo $code ?>" class="checkbox"
                        <?php echo $service->getValue() ? "checked" : ""; ?>
                    />
                    <i class="custom-checkbox"></i>
                    <?php echo $block->escapeHtml($name) ?>
                </label>
            </dt>
            <dd class="service-<?php  /* @noEscape */ echo $code ?>">
            </dd>
        <?php endif; ?>

        <?php if ($services->offsetExists(\Dhl\Shipping\Service\ParcelAnnouncement::CODE)) : ?>
            <?php
            /** @var \Dhl\Shipping\Service\ServiceInterface $service */
            $service = $services->offsetGet(\Dhl\Shipping\Service\ParcelAnnouncement::CODE);
            $code = $service->getCode();
            $name = __('Parcel Announcement');
            ?>
            <dt class="service-<?php /* @noEscape */ echo $code; ?>">
                <label class="checkbox-label">
                    <input
                        data-module="dhl_shipping"
                        data-name="service_<?php /* @noEscape */ echo $code ?>"
                        type="checkbox"
                        name="shipment_service[<?php /* @noEscape */ echo $code ?>]"
                        value="<?php /* @noEscape */ echo $code ?>" class="checkbox"
                        <?php echo $service->getValue() ? "checked" : ""; ?>
                    />
                    <i class="custom-checkbox"></i>
                    <?php echo $block->escapeHtml($name) ?>
                </label>
            </dt>
        <?php endif; ?>

        <?php if ($services->offsetExists(\Dhl\Shipping\Service\Insurance::CODE)) : ?>
            <?php
            /** @var \Dhl\Shipping\Service\ServiceInterface $service */
            $service = $services->offsetGet(\Dhl\Shipping\Service\Insurance::CODE);
            $code = $service->getCode();
            $name = __('Insurance');
            ?>
            <dt class="service-<?php /* @noEscape */ echo $code; ?>">
                <label class="checkbox-label">
                    <input
                        data-module="dhl_shipping"
                        data-name="service_<?php /* @noEscape */ echo $code ?>"
                        type="checkbox"
                        name="shipment_service[<?php /* @noEscape */ echo $code ?>]"
                        value="<?php /* @noEscape */ echo $code ?>" class="checkbox"
                        <?php echo $service->getValue() ? "checked" : ""; ?>
                    />
                    <i class="custom-checkbox"></i>
                    <?php echo $block->escapeHtml($name) ?>
                </label>
            </dt>
        <?php endif; ?>

        <?php if ($services->offsetExists(\Dhl\Shipping\Service\PrintOnlyIfCodeable::CODE)) : ?>
            <?php
            /** @var \Dhl\Shipping\Service\ServiceInterface $service */
            $service = $services->offsetGet(\Dhl\Shipping\Service\PrintOnlyIfCodeable::CODE);
            $code = $service->getCode();
            $name = __('Print Only If Codeable');
            ?>
            <dt class="service-<?php /* @noEscape */ echo $code; ?>">
                <label class="checkbox-label">
                    <input
                        data-module="dhl_shipping"
                        data-name="service_<?php /* @noEscape */ echo $code ?>"
                        type="checkbox"
                        name="shipment_service[<?php /* @noEscape */ echo $code ?>]"
                        value="<?php /* @noEscape */ echo $code ?>" class="checkbox"
                        <?php echo $service->getValue() ? "checked" : ""; ?>
                    />
                    <i class="custom-checkbox"></i>
                    <?php echo $block->escapeHtml($name) ?>
                </label>
            </dt>
        <?php endif; ?>

        <?php if ($services->offsetExists(\Dhl\Shipping\Service\ReturnShipment::CODE)) : ?>
            <?php
            /** @var \Dhl\Shipping\Service\ServiceInterface $service */
            $service = $services->offsetGet(\Dhl\Shipping\Service\ReturnShipment::CODE);
            $code = $service->getCode();
            $name = __('Return Shipment');
            ?>
            <dt class="service-<?php /* @noEscape */ echo $code; ?>">
                <label class="checkbox-label">
                    <input
                        data-module="dhl_shipping"
                        data-name="service_<?php /* @noEscape */ echo $code ?>"
                        type="checkbox"
                        name="shipment_service[<?php /* @noEscape */ echo $code ?>]"
                        value="<?php /* @noEscape */ echo $code ?>" class="checkbox"
                        <?php echo $service->getValue() ? "checked" : ""; ?>
                    />
                    <i class="custom-checkbox"></i>
                    <?php echo $block->escapeHtml($name) ?>
                </label>
            </dt>
        <?php endif; ?>

        <?php if ($services->offsetExists(\Dhl\Shipping\Service\VisualCheckOfAge::CODE)) : ?>
            <?php
            /** @var \Dhl\Shipping\Service\ServiceInterface $service */
            $service = $services->offsetGet(\Dhl\Shipping\Service\VisualCheckOfAge::CODE);
            $code = $service->getCode();
            $name = __('Visual Check of Age');
            ?>
            <dt class="service-<?php /* @noEscape */ echo $code; ?>">
                <label class="checkbox-label">
                    <input
                        data-module="dhl_shipping"
                        data-name="service_<?php /* @noEscape */ echo $code ?>"
                        type="checkbox"
                        name="shipment_service[<?php /* @noEscape */ echo $code ?>]"
                        value="<?php /* @noEscape */ echo $code ?>" class="checkbox"
                        <?php echo $service->getValue() ? "checked" : ""; ?>
                    />
                    <i class="custom-checkbox"></i>
                    <?php echo $block->escapeHtml($name) ?>
                </label>
            </dt>
            <dd class="service-select <?php /* @noEscape */ echo $code ?> dd-select">
                <select name="service_setting[visualCheckOfAge]" class="admin__control-select" data-module="dhl_shipping" data-name="service_<?php
                /* @noEscape */ echo $code ?>">
                    <option value="A16" <?php if ($service->getValue() ==='A16'): ?>selected="selected"<?php endif; ?>>A16</option>
                    <option value="A18" <?php if ($service->getValue() ==='A18'): ?>selected="selected"<?php endif; ?>>A18</option>
                </select>
            </dd>
        <?php endif; ?>
    </dl>
<?php endif; ?>
